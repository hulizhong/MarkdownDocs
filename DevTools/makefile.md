[TOC]

## ReadMe

在`源码目录进行编译`即`in-source build`，不像cmake的`out-of-source build`.
扫描源码目录的makefile，进行规则推导、编译。

```bash
#make先查找makefile文件顺序：makefile >> Makefile.

make -j n -Dmacro_name
make -C ..
	#带路径编译，即执行上级目录中的makefile.
```



## Grammar

基本语法，如下：

```makefile
# -------------------输出语句
@echo "....."
(info ...)
(warning ...)
(error ...)     #打印之后、会退出其下的流程。

$@ #目标文件。
$^ #所有依赖文件。
$< #第一个依赖文件。

```



### 变量

定义与使用
```makefile
GCCFLAGS := -ggdb3 -O0  #变量定义，value不需要引号括起来
$(GCCFLAGS) ${GCCFLAGS}   #变量使用，用$()或${}引起来
```



**T. 四种赋值**

| 符号 | 意义                                                         |
| ---- | ------------------------------------------------------------ |
| :=   | 直接赋值，这就是我们常规的那种赋值方式，一赋值马上有效。在没赋值是为空字符。 |
| ?=   | 仅仅在变量还没赋值的情况下才有效，所有一般用在第一次赋值。   |
| +=   | 在变量后加上字符。                                           |
| =    | 递归赋值，即赋值后并不马上生效，等到使用时才真正的赋值，此时通过递归找出当前的值，所有在使用是很有可并不是开始赋的值，所有使用时有应该注意。 |


## 待续





